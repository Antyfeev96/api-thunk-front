{"version":3,"sources":["Components/Error/Error.jsx","Reducers/Reducers.js","API.js","Components/Spinner/Spinner.jsx","Components/ItemsList/ItemsList.jsx","Components/MainPage/MainPage.jsx","Components/Form/EditForm.jsx","App.jsx","Store/index.js","index.jsx"],"names":["StyledError","styled","div","Error","api","this","url","console","log","a","fetch","id","method","headers","data","body","JSON","stringify","fetchServices","createAsyncThunk","fetchItems","response","ok","statusText","json","fetchService","getItem","deleteService","deleteItem","saveService","saveItem","initialState","name","price","content","editedId","filterString","list","filteredList","error","loading","toolkitSlice","createSlice","reducers","setList","state","action","length","payload","editItem","value","changeInputField","changeEditedId","extraReducers","pending","fulfilled","rejected","message","actions","rotate360","applyFilter","changeFilteredList","fetchServicesRequest","fetchServiceSuccess","fetchServicesSuccess","fetchServicesError","keyframes","StyledSpinner","Spinner","List","ul","ItemsList","useSelector","myState","dispatch","useDispatch","match","useRouteMatch","useEffect","handleEdit","handleRemove","map","item","className","to","onClick","MainPage","Form","form","NameInput","input","PriceInput","ContentInput","Button","button","EditForm","history","useHistory","clearInputs","handleChange","event","target","onSubmit","preventDefault","goBack","onChange","type","Container","App","path","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","thunk","rootReducer","combineReducers","store","configureStore","reducer","devTools","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.54323467.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledError = styled.div`\r\n    height: 100px; \r\n    padding: 15px;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    background-color: red;\r\n    color: white;\r\n`;\r\n\r\nconst Error = () => {\r\n    return (\r\n        <StyledError>\r\n            Произошла ошибка! <br/>\r\n            Проверьте соединение и обновите страницу\r\n        </StyledError>\r\n    );\r\n};\r\n\r\nexport default Error;","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Error from \"../Components/Error/Error\";\r\nimport API from \"../API\";\r\n\r\nconst api = new API();\r\n\r\nexport const fetchServices = createAsyncThunk(\r\n    'fetchServices',\r\n    async () => {\r\n      const response = await api.fetchItems();\r\n      if (!response.ok) {\r\n        return response.statusText;\r\n      }\r\n      return await response.json();\r\n    }\r\n)\r\n\r\nexport const fetchService = createAsyncThunk(\r\n    'fetchService',\r\n    async (id) => {\r\n      const response = await api.getItem(id);\r\n      if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n      }\r\n      return await response.json();\r\n    }\r\n)\r\n\r\nexport const deleteService = createAsyncThunk(\r\n    'deleteService',\r\n    async (id) => {\r\n      const response = await api.deleteItem(id);;\r\n      if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n      }\r\n      return await response.json();\r\n    }\r\n)\r\n\r\nexport const saveService = createAsyncThunk(\r\n    'saveService',\r\n    async (data) => {\r\n      const response = await api.saveItem(data);;\r\n      if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n      }\r\n      return await response.json();\r\n    }\r\n)\r\n\r\nconst list = []\r\n\r\nconst filteredList = []\r\n\r\nconst initialState = {\r\n  name: '',\r\n  price: '',\r\n  content: '',\r\n  editedId: null,\r\n  filterString: '',\r\n  list,\r\n  filteredList,\r\n  error: null,\r\n  loading: false\r\n}\r\n\r\nexport const toolkitSlice = createSlice({\r\n  name: 'myState',\r\n\r\n  initialState,\r\n\r\n  reducers: {\r\n    setList(state, action) {\r\n      if (state.list.length !== 0) return;\r\n      state.list = action.payload;\r\n    },\r\n    editItem(state, action) {\r\n      const { name, value } = action.payload;\r\n      state.name = name;\r\n      state.price = value\r\n    },\r\n    changeInputField(state, action) {\r\n      const { name, value } = action.payload;\r\n      state[name] = value;\r\n    },\r\n    changeEditedId(state, action) {\r\n      state.editedId = action.payload;\r\n    }\r\n  },\r\n  extraReducers: {\r\n    [fetchServices.pending]: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    [fetchServices.fulfilled]: (state, action) => {\r\n      const list = action.payload;\r\n      return state = {...state, list, filteredList: list, loading: false, error: null}\r\n    },\r\n    [fetchServices.rejected]: (state, action) => {\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    },\r\n    [deleteService.pending]: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    [deleteService.fulfilled]: (state, action) => {\r\n      const list = action.payload;\r\n      return state = {...state, list, filteredList: list, loading: false, error: null}\r\n    },\r\n    [deleteService.rejected]: (state, action) => {\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    },\r\n    [fetchService.pending]: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    [fetchService.fulfilled]: (state, action) => {\r\n      const { name, price, content } = action.payload;\r\n      return state = {...state, name, price, content, loading: false, error: null}\r\n    },\r\n    [fetchService.rejected]: (state, action) => {\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    },\r\n    [saveService.pending]: (state) => {\r\n      state.loading = true;\r\n      state.error = null;\r\n    },\r\n    [saveService.fulfilled]: (state, action) => {\r\n      const list = action.payload;\r\n      return state = {...state, list, filteredList: list, loading: false, error: null}\r\n    },\r\n    [saveService.rejected]: (state, action) => {\r\n      state.error = action.error.message;\r\n      state.loading = false;\r\n    },\r\n  }\r\n})\r\n\r\n\r\nexport default toolkitSlice.reducer;\r\nexport const { editItem, changeInputField, changeEditedId, applyFilter, changeFilteredList, setList, fetchServicesRequest, fetchServiceSuccess, fetchServicesSuccess, fetchServicesError } = toolkitSlice.actions;","export default class API {\r\n  constructor() {\r\n    this.url = 'http://localhost:7070/api';\r\n    console.log(123);\r\n  }\r\n\r\n  async fetchItems() {\r\n    try {\r\n      return await fetch(`${this.url}/services`);\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  async deleteItem(id) {\r\n    try {\r\n      await fetch(`${this.url}/services/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n      });\r\n      return await fetch(`${this.url}/services`);\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  async getItem(id) {\r\n    try {\r\n      return await fetch(`${this.url}/services/${id}`);\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  async saveItem(data) {\r\n    try {\r\n      return await fetch(`${this.url}/services`, {\r\n        method: 'POST',\r\n        body: JSON.stringify(data)\r\n      });\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n}","import styled, { keyframes } from \"styled-components\";\r\nimport React from \"react\";\r\n\r\nconst rotate360 = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst StyledSpinner = styled.div`\r\n  animation: ${rotate360} 1s linear infinite;\r\n  transform: translateZ(0);\r\n  \r\n  margin: 0 auto;\r\n  border-top: 2px solid grey;\r\n  border-right: 2px solid grey;\r\n  border-bottom: 2px solid grey;\r\n  border-left: 4px solid black;\r\n  background: transparent;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport default function Spinner() {\r\n    return (\r\n        <StyledSpinner/>\r\n    )\r\n};","import styled from 'styled-components';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n  changeEditedId,\r\n  fetchServices,\r\n  deleteService\r\n} from '../../Reducers/Reducers';\r\nimport React, { useEffect } from \"react\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\nimport Error from \"../Error/Error\";\r\nimport { Link, useRouteMatch, } from \"react-router-dom\";\r\n\r\nconst List = styled.ul`\r\n  margin-top: 25px;\r\n  padding: 15px;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n\r\n  & .item:nth-of-type(n + 2) {\r\n    margin-top: 15px;\r\n  }\r\n\r\n  & .item {\r\n    button {\r\n      margin-left: 15px;\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default function ItemsList() {\r\n  const state = useSelector(state => state.myState);\r\n  const dispatch = useDispatch();\r\n  const match = useRouteMatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchServices());\r\n  }, [dispatch])\r\n\r\n\r\n  const handleEdit = async (name, value, id) => {\r\n    dispatch(changeEditedId(+id))\r\n  }\r\n\r\n  const handleRemove = async id => {\r\n    dispatch(deleteService(id)) // подсветка от webstorm\r\n  }\r\n\r\n  return (\r\n   <List>\r\n     {(state.error && <Error/>) || (state.loading ? <Spinner /> : state.list.map(item =>\r\n        <li key={item.id} className=\"item\">\r\n        {item.name} {item.price} <span>₽</span>\r\n        <Link to={`${match.url}/${item.id}`}>\r\n          <button onClick={() => handleEdit(item.name, item.price, item.id)}>✎</button>\r\n        </Link>\r\n        <button onClick={() => handleRemove(item.id)}>✕</button>\r\n        </li>))}\r\n   </List>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport ItemsList from \"../ItemsList/ItemsList\";\r\n\r\nfunction MainPage() {\r\n  return <ItemsList />;\r\n}\r\n\r\nexport default MainPage;","import styled from 'styled-components';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  changeInputField,\r\n  changeEditedId,\r\n  fetchService,\r\n  saveService\r\n} from '../../Reducers/Reducers';\r\nimport React, { Fragment, useEffect } from \"react\";\r\nimport Error from \"../Error/Error\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Form = styled.form`\r\n  input {\r\n    display: block;\r\n    padding: 2px;\r\n    margin-top: 15px;\r\n    width: 200px;\r\n  }\r\n  \r\n  .form__buttons {\r\n    margin-top: 15px;\r\n    \r\n    & button:nth-of-type(n + 2) {\r\n      margin-left: 15px;\r\n    }\r\n  }\r\n`\r\n\r\nconst NameInput = styled.input``\r\n\r\nconst PriceInput = styled.input``\r\n\r\nconst ContentInput = styled.input``\r\n\r\nconst Button = styled.button`\r\n  padding: 5px;\r\n  background-color: red;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n`\r\n\r\nexport default function EditForm() {\r\n  const state = useSelector(state => state.myState);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (state.editedId === null) return;\r\n    dispatch(fetchService(state.editedId))\r\n  },[dispatch, state.editedId])\r\n\r\n  const clearInputs = () => {\r\n    dispatch(changeInputField({ name: 'name', value: '' }));\r\n    dispatch(changeInputField({ name: 'price', value: '' }));\r\n    dispatch(changeInputField({ name: 'content', value: '' }));\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    dispatch(changeInputField({ name, value }));\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { editedId, name, price, content } = state\r\n    dispatch(saveService({ id: editedId, name, price, content }))\r\n    history.goBack();\r\n    clearInputs();\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    history.goBack()\r\n    dispatch(changeEditedId(null));\r\n    clearInputs();\r\n  }\r\n\r\n  return (\r\n      <Fragment>\r\n        {(state.error && <Error/>) || (state.loading ? <Spinner /> :\r\n            <Form className=\"form\" onSubmit={handleSubmit}>\r\n              <div>Название</div>\r\n              <NameInput className=\"form__name\" name='name' onChange={handleChange} value={state.name}/>\r\n              <div>Стоимость</div>\r\n              <PriceInput className=\"form__price\" name='price' onChange={handleChange} value={state.price}/>\r\n              <div>Описание</div>\r\n              <ContentInput className=\"form__description\" name='content' onChange={handleChange} value={state.content}/>\r\n              <div className=\"form__buttons\">\r\n                <Button className=\"form__cancel\" onClick={handleCancel} type='button'>Cancel</Button>\r\n                <Button className=\"form__button\" type='submit'>Save</Button>\r\n              </div>\r\n            </Form>)}\r\n      </Fragment>\r\n  )\r\n}\r\n","import './App.css';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport styled from 'styled-components';\nimport React from \"react\";\nimport MainPage from \"./Components/MainPage/MainPage\";\nimport { Redirect } from \"react-router-dom\";\nimport EditForm from \"./Components/Form/EditForm\";\n\nconst Container = styled.div`\n  width: 50%;\n  margin: 100px auto 0 auto;\n`\n\nfunction App() {\n  return (\n    <Router>\n      <Container className=\"app\">\n        <Redirect to=\"/services\" />\n        <Switch>\n            <Route path='/services/:id'>\n                <EditForm/>\n            </Route>\n            <Route path='/services'>\n              <MainPage />\n            </Route>\n        </Switch>\n      </Container>\n    </Router>\n  );\n}\n\nexport default App;","import { combineReducers, configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport toolkitSlice from '../Reducers/Reducers';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst middleware = getDefaultMiddleware({\r\n  immutableCheck: false,\r\n  serializableCheck: false,\r\n  thunk: true,\r\n});\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  myState: toolkitSlice\r\n})\r\n\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware,\r\n  devTools: true,\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from \"./Store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}